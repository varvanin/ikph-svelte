{"version":3,"file":"_reset-bd979b73.js","sources":["../../node_modules/@sveltech/routify/runtime/decorators/BaseTransition.svelte","../../node_modules/@sveltech/routify/runtime/decorators/TabsTransition.svelte","../../src/pages/example/transitions/tabs/_components/BottomNav.svelte","../../src/pages/example/transitions/tabs/_reset.svelte"],"sourcesContent":["<script>\n  import { getConcestor } from '../helpers'\n  import { fade } from 'svelte/transition'\n  import { route } from '../'\n  export let configs = []\n  export let config = false\n\n  const defaultConfig = {\n    transition: fade,\n    inParams: {},\n    outParams: {},\n  }\n\n  $: oldRoute = $route.prev || $route\n  $: [concestor, ancestor, oldAncestor] = getConcestor($route, oldRoute)\n  $: toAncestor = isAncestor(oldRoute, $route)\n  $: toDescendant = isAncestor($route, oldRoute)\n  $: toHigherIndex = ancestor && ancestor.meta.index > oldAncestor.meta.index\n  $: toLowerIndex = ancestor && ancestor.meta.index < oldAncestor.meta.index\n\n\n  $: meta = {\n    toAncestor,\n    toDescendant,\n    toHigherIndex,\n    toLowerIndex,\n    routes: [$route, oldRoute],\n    ancestors: [ancestor, oldAncestor],\n  }\n\n  $: _config = configs.find(({ condition }) => condition(meta)) || config || defaultConfig\n  $: normalizedConfig = { ...defaultConfig, ..._config }\n  $: ({ transition, inParams, outParams } = normalizedConfig)\n\n  function isAncestor({ shortPath }, { shortPath: shortPath2 }) {\n    return shortPath !== shortPath2 && shortPath.startsWith(shortPath2)\n  }\n\n  function setAbsolute({ target }) {\n    target.style.position = 'absolute'\n  }\n</script>\n\n<style>\n  .transition {\n    height: 100%;\n    width: 100%;\n  }\n</style>\n\n<div\n  class=\"transition\"\n  in:transition|local={inParams}\n  out:transition|local={outParams}\n  on:outrostart={setAbsolute}>\n  <slot />\n</div>\n","<script>\n  import { scale, fly } from 'svelte/transition'\n  import BaseTransition from './BaseTransition.svelte'\n\n  export let scoped\n  const { width } = scoped\n\n  const configs = [\n    {\n      // New and old route are identical, do nothing\n      condition: ({ routes }) => routes[0] === routes[1],\n      transition: () => {},\n    },\n    {\n      condition: c => c.toAncestor,\n      transition: scale,\n      inParams: { start: 1.2 },\n      outParams: { start: 0.8 },\n    },\n    {\n      condition: c => c.toDescendant,\n      transition: scale,\n      inParams: { start: 0.8 },\n      outParams: { start: 1.2 },\n    },\n    {\n      condition: c => c.toHigherIndex,\n      transition: fly,\n      inParams: { x: $width, duration: 500 },\n      outParams: { x: -$width, duration: 500 },\n    },\n    {\n      condition: c => c.toLowerIndex,\n      transition: fly,\n      inParams: { x: -$width, duration: 500 },\n      outParams: { x: $width, duration: 500 },\n    },\n    {\n      // No matching config. We don't want a transition\n      condition: () => true,\n      transition: () => {},\n    },\n  ]\n</script>\n\n<BaseTransition {configs}>\n  <slot />\n</BaseTransition>\n","<script>\n  import { url, isActive } from \"@sveltech/routify\";\n  export let urls, height;\n  let linkElems = [];\n  let overlay;\n  let clientWidth\n  $: urlsWithElem = linkElems.map((elem, i) => ({ ...urls[i], elem }));\n  $: activeUrl = urlsWithElem.find(({active}) => active)\n  $: if (overlay && clientWidth && activeUrl) copyDimensions(activeUrl.elem, overlay);\n  $: color = activeUrl && activeUrl.color\n\n  function copyDimensions(source, target) {\n    target.style.left = source.offsetLeft + \"px\";\n    target.style.top = source.offsetTop + \"px\";\n    target.style.width = source.clientWidth + \"px\";\n    target.style.height = source.clientHeight + \"px\";\n  }\n\n  const saveElement = el => (linkElems = [...linkElems, el]);\n</script>\n\n<style>\n  nav {\n    width: 100%;\n    background: white;\n    display: flex;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    box-shadow: 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n    justify-content: space-evenly;\n  }\n  a {\n    padding: 0 16px;\n    line-height: 100%;\n    font-weight: 500;\n    color: #aaa;\n    text-transform: uppercase;\n    text-decoration: none;\n    width: 100%;\n    text-align: center;\n    position: relative;\n    z-index: 10;\n    transition: all 0.8s;\n    /* transition-delay: 0.05s */\n  }\n  a.active {\n    color: #fff;\n  }\n  .overlay {\n    position: absolute;\n    /* background: #555; */\n    transition: 0.3s all;\n    background: linear-gradient(\n          rgba(0, 0, 0, 0.15), \n          rgba(0, 0, 0, 0.15)\n        )\n  }\n</style>\n\n<nav bind:clientWidth>\n  {#each urls as { name, path, active, href }, i}\n    <a\n      style=\"line-height: {height}\"\n      {href}\n      class:active\n      use:saveElement>\n      {name}\n    </a>\n  {/each}\n  <div class=\"overlay\" bind:this={overlay} style=\"background-color: {color}\" />\n</nav>\n","<script>\n  import { TabsTransition } from \"@sveltech/routify/decorators\";\n  import { writable } from \"svelte/store\";\n  import BottomNav from \"./_components/BottomNav.svelte\";\n  import { url, isActive } from \"@sveltech/routify\";\n\n  const width = writable();\n  const color = writable();\n  const _urls = [\n    [\"./home\", \"Home\", \"#7fc5bb\"],\n    [\"./feed\", \"Feed\", \"#0bf5cc\"],\n    [\"./updates\", \"Updates\", \"#88f0d0\"],\n    [\"./settings\", \"Settings\", \"#a1fac3\"]\n  ];\n  $: urls = _urls.map(([path, name, color]) => ({\n    name,\n    href: $url(path),\n    color,\n    active: !!$isActive(path)\n  }));\n  \n  $: urlOrder = urls.map(({href}) => href);\n</script>\n\n<style>\n  :global(body) {\n    padding: 0;\n  }\n  * :global(.inset) {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n  main.inset {\n    bottom: 64px;\n    overflow: hidden;\n  }\n\n  * :global(*) {\n    text-align: center;\n  }\n  a {\n    position: fixed;\n    top: 0;\n    left: 0;\n    padding: 8px 16px;\n    background: #555;\n    color: white;\n  }\n</style>\n\n<div style=\"height: 100%\">\n\n  <main class=\"inset\" bind:offsetWidth={$width}>\n    <slot decorator={TabsTransition} scoped={{ width, urls: urlOrder }} />\n  </main>\n  <BottomNav {urls} height=\"64px\" />\n</div>\n\n<a href={$url('../../')}>Back to examples</a>\n"],"names":["setAbsolute","ctx","isAncestor","shortPath","shortPath2","startsWith","target","style","position","configs","config","defaultConfig","transition","fade","inParams","outParams","oldRoute","$route","prev","concestor","ancestor","oldAncestor","getConcestor","toAncestor","toDescendant","toHigherIndex","meta","index","toLowerIndex","routes","ancestors","_config","find","condition","normalizedConfig","scoped","width","c","scale","start","fly","x","$width","duration","length","overlay","clientWidth","urls","height","linkElems","source","urlsWithElem","map","elem","i","activeUrl","active","left","offsetLeft","top","offsetTop","clientHeight","color","el","TabsTransition","writable","_urls","path","name","href","$url","$isActive","urlOrder"],"mappings":"6oBAsDiBA,8HAFMC,uEACCA,iEAnBbC,aAAaC,IAAeA,UAAWC,WACvCD,IAAcC,GAAcD,EAAUE,WAAWD,YAGjDJ,UAAcM,IACrBA,EAAOC,MAAMC,SAAW,kEAnCfC,gBACAC,GAAS,WAEdC,GACJC,WAAYC,EACZC,YACAC,+NAGCC,EAAWC,EAAOC,MAAQD,uBACzBE,EAAWC,EAAUC,GAAeC,EAAaL,EAAQD,iDAC1DO,EAAarB,EAAWc,EAAUC,wBAClCO,EAAetB,EAAWe,EAAQD,yBAClCS,EAAgBL,GAAYA,EAASM,KAAKC,MAAQN,EAAYK,KAAKC,4BACnEC,EAAeR,GAAYA,EAASM,KAAKC,MAAQN,EAAYK,KAAKC,8BAGlED,GACDH,WAAAA,EACAC,aAAAA,EACAC,cAAAA,EACAG,aAAAA,EACAC,QAASZ,EAAQD,GACjBc,WAAYV,EAAUC,4BAGrBU,EAAUtB,EAAQuB,OAAQC,UAAAA,KAAgBA,EAAUP,KAAUhB,GAAUC,0BACxEuB,MAAwBvB,KAAkBoB,4BACvCnB,WAAAA,EAAYE,SAAAA,EAAUC,UAAAA,GAAcmB,m6BC5B/BC,iBACHC,GAAUD,2BAEZ1B,IAGFwB,YAAcJ,OAAAA,KAAaA,EAAO,KAAOA,EAAO,GAChDjB,oBAGAqB,UAAWI,GAAKA,EAAEd,WAClBX,WAAY0B,EACZxB,UAAYyB,MAAO,KACnBxB,WAAawB,MAAO,MAGpBN,UAAWI,GAAKA,EAAEb,aAClBZ,WAAY0B,EACZxB,UAAYyB,MAAO,IACnBxB,WAAawB,MAAO,OAGpBN,UAAWI,GAAKA,EAAEZ,cAClBb,WAAY4B,EACZ1B,UAAY2B,EAAGC,EAAQC,SAAU,KACjC5B,WAAa0B,GAAIC,EAAQC,SAAU,OAGnCV,UAAWI,GAAKA,EAAET,aAClBhB,WAAY4B,EACZ1B,UAAY2B,GAAIC,EAAQC,SAAU,KAClC5B,WAAa0B,EAAGC,EAAQC,SAAU,OAIlCV,eAAiB,EACjBrB,4WC2BCX,2JAJoBA,gJAIpBA,yCAJoBA,kHAFlBA,0BAAL2C,iVASiE3C,6LAT5DA,aAAL2C,2HAAAA,oCASiE3C,kFAlE/D4C,EACAC,QAHOC,aAAMC,KACbC,+GAQoBC,EAAQ5C,qBAL7B6C,EAAeF,EAAUG,KAAKC,EAAMC,SAAYP,EAAKO,GAAID,KAAAA,0BACzDE,EAAYJ,EAAanB,OAAOwB,OAAAA,KAAYA,oBACxCX,GAAWC,GAAeS,IAGTL,EAHmCK,EAAUF,MAGrC/C,EAH2CuC,GAIlEtC,MAAMkD,KAAOP,EAAOQ,WAAa,KACxCpD,EAAOC,MAAMoD,IAAMT,EAAOU,UAAY,KACtCtD,EAAOC,MAAM6B,MAAQc,EAAOJ,YAAc,KAC1CxC,EAAOC,MAAMyC,OAASE,EAAOW,aAAe,0BAN3CC,EAAQP,GAAaA,EAAUO,mBASdC,OAAOd,MAAgBA,EAAWc,qDAoDtBlB,2KCdbmB,UAA0B5B,MAAAnC,KAAO8C,KAAM9C,mmBAKnDA,KAAK,2QAALA,KAAK,6OAvDNmC,EAAQ6B,6BACRH,EAAQG,IACRC,IACH,SAAU,OAAQ,YAClB,SAAU,OAAQ,YAClB,YAAa,UAAW,YACxB,aAAc,WAAY,sIAE1BnB,EAAOmB,EAAMd,MAAMe,EAAMC,EAAMN,OAChCM,KAAAA,EACAC,KAAMC,EAAKH,GACXL,MAAAA,EACAN,SAAUe,EAAUJ,yBAGnBK,EAAWzB,EAAKK,MAAMiB,KAAAA,KAAUA,qCAkCG3B"}